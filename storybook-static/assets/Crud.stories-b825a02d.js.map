{"version":3,"file":"Crud.stories-b825a02d.js","sources":["../../src/hooks/hooks.tsx","../../src/utilities/Crud/CrudContext.tsx","../../src/utilities/Crud/components/Actions.tsx","../../src/utilities/Crud/components/Task.tsx","../../src/utilities/Crud/components/NoRecord.tsx","../../src/utilities/Crud/components/TaskList.tsx","../../src/utilities/Crud/Crud.tsx"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport { TaskProps } from \"../utilities\";\n\ntype CrudActionProps = TaskProps & {\n  type: \"add\" | \"remove\" | \"remove-all\";\n};\n\nexport function useCrudReducer(tasks: TaskProps[], action: CrudActionProps) {\n  switch (action.type) {\n    case \"add\":\n      return [\n        ...tasks,\n        {\n          id: uuidv4(),\n          // ...new params\n        },\n      ];\n    case \"remove\":\n      return tasks.filter((task) => task.id !== action.id);\n    case \"remove-all\":\n      return [];\n    default:\n      throw Error(\"Unkown type: \" + action.type);\n  }\n}\n","import { createContext } from \"react\";\nimport { CommonProps } from \"./types\";\n\nexport const CrudContext = createContext<CommonProps>({});\nexport const CrudDispatchContext = createContext({});\n","import React, { useContext } from \"react\";\nimport { Button } from \"../../../components\";\nimport type { ActionProps } from \"../types\";\nimport { CrudContext } from \"../CrudContext\";\n\nexport const Actions: React.FC<ActionProps> = () => {\n  const { tasks, onAddItem, onRemoveAllItem } = useContext(CrudContext);\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <Button label=\"Add\" icon=\"plus\" onClick={onAddItem} />\n      <Button\n        icon=\"trash\"\n        color=\"danger\"\n        label=\"Remove All\"\n        disabled={tasks?.length === 0}\n        onClick={onRemoveAllItem}\n      />\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Button } from \"../../../components\";\nimport { TaskProps } from \"../types\";\nimport { CrudContext } from \"../CrudContext\";\n\nexport const Task: React.FC<TaskProps> = ({ id }) => {\n  const { onRemoveItem } = useContext(CrudContext);\n\n  const taskStyles = {\n    root: {\n      base: \"group h-auto p-4 space-y-8 bg-white border hover:shadow-lg hover:scale-[1.0025] rounded-xl transition-all\",\n      header: {\n        base: \"\",\n        title: {\n          base: \"group-hover:text-primary break-words\",\n        },\n      },\n      actions: {\n        base: \"flex-1 flex items-center justify-end\",\n      },\n    },\n  };\n\n  const { root } = taskStyles;\n\n  return (\n    <div id={id} className={root.base}>\n      <p>\n        Task ID: <b className={root.header.title.base}>{id}</b>\n      </p>\n      <div className={root.actions.base}>\n        <Button\n          label=\"Remove\"\n          icon=\"trash\"\n          color=\"danger\"\n          variant=\"outline\"\n          onClick={() => onRemoveItem!(id)}\n        />\n      </div>\n    </div>\n  );\n};\n","export const NoRecord = () => {\n  return <div className=\"flex-1 h-[100px] text-center\">No records found.</div>;\n};\n","import React, { useContext } from \"react\";\nimport cn from \"classnames\";\nimport { Task } from \"./Task\";\nimport { NoRecord } from \"./NoRecord\";\nimport { CrudContext } from \"../CrudContext\";\nimport type { TaskListProps } from \"../types\";\n\nexport const TaskList: React.FC<TaskListProps> = () => {\n  const { tasks, column = 1 } = useContext(CrudContext);\n\n  const taskListStyles = {\n    root: {\n      base: \"grid grid-cols-1 gap-4 p-4 bg-default-50 rounded-xl\",\n      column: {\n        1: \"grid-cols-1\",\n        2: \"grid-cols-2\",\n        3: \"grid-cols-3\",\n        4: \"grid-cols-4\",\n        5: \"grid-cols-5\",\n        6: \"grid-cols-6\",\n        7: \"grid-cols-7\",\n        8: \"grid-cols-8\",\n        9: \"grid-cols-9\",\n        10: \"grid-cols-10\",\n        11: \"grid-cols-11\",\n        12: \"grid-cols-12\",\n      },\n    },\n  };\n  const { root } = taskListStyles;\n\n  if (tasks?.length === 0) return <NoRecord />;\n\n  return (\n    <div className={cn(root.base, root.column[column])}>\n      {tasks?.map((e) => (\n        <Task key={e.id} id={e.id} />\n      ))}\n    </div>\n  );\n};\n","import React, { useReducer } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useCrudReducer } from \"../../hooks\";\nimport { Actions, TaskList } from \"./components\";\nimport { CrudContext, CrudDispatchContext } from \"./CrudContext\";\nimport type { CrudProps, TaskProps } from \"./types\";\n\nconst initialData: TaskProps[] = [];\n\nexport const Crud: React.FC<CrudProps> = (props) => {\n  const { column = 1, onChange } = props;\n  const [tasks, dispatch] = useReducer(useCrudReducer, initialData);\n\n  const handleAddItem = () => {\n    dispatch({\n      type: \"add\",\n      id: uuidv4(),\n    });\n  };\n\n  const handleRemoveItem = (id: string) => {\n    dispatch({\n      type: \"remove\",\n      id: id,\n    });\n  };\n\n  const handleRemoveAllItem = () => {\n    dispatch({\n      type: \"remove-all\",\n      id: \"\",\n    });\n  };\n\n  React.useEffect(() => {\n    if (!onChange) return;\n    onChange(tasks);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tasks]);\n\n  return (\n    <CrudContext.Provider\n      value={{\n        tasks,\n        column,\n        onAddItem: handleAddItem,\n        onRemoveItem: handleRemoveItem,\n        onRemoveAllItem: handleRemoveAllItem,\n      }}\n    >\n      <CrudDispatchContext.Provider value={dispatch}>\n        <div className=\"space-y-4\">\n          <Actions />\n          <TaskList />\n        </div>\n      </CrudDispatchContext.Provider>\n    </CrudContext.Provider>\n  );\n};\n"],"names":["useCrudReducer","tasks","action","uuidv4","task","CrudContext","createContext","CrudDispatchContext","Actions","onAddItem","onRemoveAllItem","useContext","jsxs","jsx","Button","Task","id","onRemoveItem","taskStyles","root","NoRecord","TaskList","column","taskListStyles","cn","e","initialData","Crud","props","onChange","dispatch","useReducer","handleAddItem","handleRemoveItem","handleRemoveAllItem","React"],"mappings":"yNAOgB,SAAAA,EAAeC,EAAoBC,EAAyB,CAC1E,OAAQA,EAAO,KAAM,CACnB,IAAK,MACI,MAAA,CACL,GAAGD,EACH,CACE,GAAIE,EAAO,CAEb,CAAA,EAEJ,IAAK,SACH,OAAOF,EAAM,OAAQG,GAASA,EAAK,KAAOF,EAAO,EAAE,EACrD,IAAK,aACH,MAAO,GACT,QACQ,MAAA,MAAM,gBAAkBA,EAAO,IAAI,CAC7C,CACF,CCrBa,MAAAG,EAAcC,EAAAA,cAA2B,CAAA,CAAE,EAC3CC,EAAsBD,EAAc,cAAA,EAAE,ECC5CE,EAAA,IAAA,CACL,KAAA,CAAA,MAAAP,EAAA,UAAAQ,EAAA,gBAAAC,CAAA,EAAAC,EAAAA,WAAAN,CAAA,EAEA,OAAAO,EAAA,KAAA,MAAA,CAAA,UAAA,0BAAA,SAAA,CAEIC,MAAAC,EAAA,CAAA,MAAA,MAAA,KAAA,OAAA,QAAAL,EAAA,EAAoDI,EAAA,IACpDC,EAAC,CAAA,KAAA,QACM,MAAA,SACC,MAAA,aACA,UAAAb,GAAA,YAAAA,EAAA,UAAA,EACsB,QAAAS,CACnB,CAAA,CACX,CAAA,CAAA,CAGN,qZCfO,MAAAK,EAAA,CAAA,CAAA,GAAAC,KAAA,CACL,KAAA,CAAA,aAAAC,CAAA,EAAAN,EAAA,WAAAN,CAAA,EAEAa,EAAA,CAAmB,KAAA,CACX,KAAA,4GACE,OAAA,CACE,KAAA,GACA,MAAA,CACC,KAAA,sCACC,CACR,EACF,QAAA,CACS,KAAA,sCACD,CACR,CACF,EAGF,CAAA,KAAAC,CAAA,EAAAD,EAEA,OAAAN,EAAAA,KAAA,MAAA,CAAA,GAAAI,EAAA,UAAAG,EAAA,KAAA,SAAA,CAEIP,OAAA,IAAA,CAAA,SAAA,CAAG,YAAAC,MAAA,IAAA,CAAA,UAAAM,EAAA,OAAA,MAAA,KAAA,SAAAH,EAAA,CACkD,EAAA,EACrDH,EAAA,IAAA,MAAA,CAAA,UAAAM,EAAA,QAAA,KAAA,SAAAN,EAAA,IAEEC,EAAC,CAAA,MAAA,SACO,KAAA,QACD,MAAA,SACC,QAAA,UACE,QAAA,IAAAG,EAAAD,CAAA,CACuB,CAAA,EAAA,CAEnC,CAAA,CAAA,CAGN,8KCzCO,MAAMI,EAAW,IACdP,EAAAA,IAAA,MAAA,CAAI,UAAU,+BAA+B,SAAiB,mBAAA,CAAA,ECMjEQ,EAAA,IAAA,CACL,KAAA,CAAA,MAAApB,EAAA,OAAAqB,EAAA,CAAA,EAAAX,EAAAA,WAAAN,CAAA,EAEAkB,EAAA,CAAuB,KAAA,CACf,KAAA,sDACE,OAAA,CACE,EAAA,cACH,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,GAAA,eACC,GAAA,eACA,GAAA,cACA,CACN,CACF,EAEF,CAAA,KAAAJ,CAAA,EAAAI,EAEA,OAAAtB,GAAA,YAAAA,EAAA,UAAA,EAAyBY,EAAA,IAAAO,EAAA,CAAA,CAAA,EAEzBP,MAAA,MAAA,CAAA,UAAAW,EAAAL,EAAA,KAAAA,EAAA,OAAAG,CAAA,CAAA,EAAA,SAAArB,GAAA,YAAAA,EAAA,IAAAwB,GAAAZ,MAAAE,EAAA,CAAA,GAAAU,EAAA,EAAA,EAAAA,EAAA,EAAA,EAAA,CAAA,CAOF,uVCjCA,MAAAC,EAAA,CAAA,EAEOC,EAAAC,GAAA,CACL,KAAA,CAAA,OAAAN,EAAA,EAAA,SAAAO,CAAA,EAAAD,EACA,CAAA3B,EAAA6B,CAAA,EAAAC,EAAAA,WAAA/B,EAAA0B,CAAA,EAEAM,EAAA,IAAA,CACEF,EAAA,CAAS,KAAA,MACD,GAAA3B,EAAA,CACK,CAAA,CACZ,EAGH8B,EAAAjB,GAAA,CACEc,EAAA,CAAS,KAAA,SACD,GAAAd,CACN,CAAA,CACD,EAGHkB,EAAA,IAAA,CACEJ,EAAA,CAAS,KAAA,aACD,GAAA,EACF,CAAA,CACL,EAGH,OAAAK,EAAA,UAAA,IAAA,CACEN,GACAA,EAAA5B,CAAA,CAAc,EAAA,CAAAA,CAAA,CAAA,EAIhBY,EAAA,IACER,EAAA,SAAa,CAAZ,MAAA,CACQ,MAAAJ,EACL,OAAAqB,EACA,UAAAU,EACW,aAAAC,EACG,gBAAAC,CACG,EACnB,SAAArB,EAAAA,IAAAN,EAAA,SAAA,CAAA,MAAAuB,EAAA,SAAAlB,EAAA,KAAA,MAAA,CAAA,UAAA,YAAA,SAAA,CAIIC,EAAA,IAAAL,EAAA,EAAA,EAASK,EAAA,IAAAQ,EAAA,EAAA,CACC,CAAA,CAAA,CAAA,CAAA,CAEd,CAAA,CAGN;;;;"}